#!/bin/bash

echo "üñ•Ô∏è  DEBUGGLE VS CODE EXTENSION - WSL SETUP GUIDE"
echo "================================================="
echo ""
echo "üìã CURRENT STATUS:"
echo "‚úÖ Debuggle server running on http://localhost:8000"
echo "‚úÖ Extension compiled and ready"
echo "‚úÖ WSL environment detected"
echo ""
echo "üéØ WSL DEVELOPMENT SETUP (RECOMMENDED)"
echo "======================================"
echo ""
echo "Since you're in WSL, use VS Code's Remote-WSL for best performance:"
echo ""
echo "üìÅ EXTENSION LOCATION:"
echo "   Default Path: /home/mikej/debuggle/vscode-extension/"
echo "   Windows Path: \\\\wsl\$\\Ubuntu\\home\\mikej\\debuggle\\vscode-extension\\"
echo ""
echo "üöÄ OPTION 1: VS Code in WSL (RECOMMENDED)"
echo "----------------------------------------"
echo "1. In this WSL terminal, run:"
echo "   cd /home/mikej/debuggle/vscode-extension"
echo "   code ."
echo ""
echo "2. This opens VS Code connected to WSL with:"
echo "   ‚úÖ Direct file system access"
echo "   ‚úÖ Native WebSocket connections" 
echo "   ‚úÖ Proper path resolution"
echo "   ‚úÖ Same environment as Debuggle server"
echo ""
echo "3. Once VS Code opens:"
echo "   ‚Ä¢ Press F5 to launch Extension Development Host"
echo "   ‚Ä¢ New VS Code window opens with extension loaded"
echo ""
echo "ü™ü OPTION 2: Windows VS Code (NOT RECOMMENDED)"
echo "---------------------------------------------"
echo "If you must use Windows VS Code:"
echo "1. Open VS Code on Windows"
echo "2. File ‚Üí Open Folder"
echo "3. Navigate to: \\\\wsl\$\\Ubuntu\\home\\mikej\\debuggle\\vscode-extension\\"
echo "4. ‚ö†Ô∏è  May have WebSocket connection issues"
echo "5. ‚ö†Ô∏è  Path resolution may not work correctly"
echo ""
echo "üîß AVAILABLE COMMANDS AFTER LOADING:"
echo "====================================="
echo "Press Ctrl+Shift+P in the Extension Development Host window:"
echo "   ‚Ä¢ Debuggle: Start Monitoring"
echo "   ‚Ä¢ Debuggle: Show Monitoring Dashboard" 
echo "   ‚Ä¢ Debuggle: Test Connection"
echo "   ‚Ä¢ Debuggle: Clear All Errors"
echo ""
echo "üí° WHAT YOU'LL SEE:"
echo "=================="
echo "   ‚Ä¢ Status bar: Debuggle icon with error count"
echo "   ‚Ä¢ Problems panel: 'Debuggle' as error source"
echo "   ‚Ä¢ Real-time updates as errors occur"
echo ""
echo "üß™ TESTING THE INTEGRATION:"
echo "=========================="
echo "1. Start monitoring: Ctrl+Shift+P ‚Üí 'Debuggle: Start Monitoring'"
echo "2. In another WSL terminal:"
echo "   cd /home/mikej/debuggle"
echo "   source .venv/bin/activate"
echo "   python test_vscode_integration.py 2>&1 | python cli/debuggle_cli.py"
echo "3. Watch errors appear in VS Code Problems panel!"
echo ""
echo "üîç TROUBLESHOOTING:"
echo "=================="
echo "‚Ä¢ Server not connecting? Run: curl http://localhost:8000"
echo "‚Ä¢ Extension not loading? Check: npm run compile worked"
echo "‚Ä¢ WebSocket issues? Use WSL VS Code (Option 1)"
echo ""
echo "‚úÖ RECOMMENDED COMMAND TO START:"
echo "cd /home/mikej/debuggle/vscode-extension && code ."
echo ""
echo "Ready to proceed? (Press Enter to continue)"
read